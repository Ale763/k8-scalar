apiVersion: v1
kind: Pod
metadata:
  name: saas-app
  labels:
    app: saas-app
    version: v1
    role: backend
spec:
  affinity:
      nodeAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - weight: 1
          preference:
            matchExpressions:
            - key: role
              operator: In
              values:
              - cassandra-primary
  containers:
  - name: saas-app
    image: decomads/saas:latest
    ports:
    - containerPort: 5000
    resources:
      limits:
      requests:
        cpu: 1500m
  nodeSelector:
    priority: high
